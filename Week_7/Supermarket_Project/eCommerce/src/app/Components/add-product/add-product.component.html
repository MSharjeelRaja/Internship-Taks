<div class="main">
  <app-navbar class="nav" *ngIf="!isEditMode" [user]="'admin'"></app-navbar>

  <div class="container">
   <mat-card class="forms" [ngStyle]="{ 'margin-top': !isEditMode ? '100px' : '20px' }">

      <h1 >{{isEditMode ?'Update the Product': 'Add a New Product' }}</h1>
      <form class="form" [formGroup]="productform" >
        <button
            mat-raised-button
class="close-btn"
(click)="closeDialogue()"
*ngIf="isEditMode"
          >
            Close
          </button>
        <div class="inputs">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Product Name</mat-label>
            <input matInput formControlName="Name" />
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Category</mat-label>
            <mat-select formControlName="Category">
              <mat-option value="Electronics">Electronics</mat-option>
              <mat-option value="Drinks">Drinks</mat-option>
              <mat-option value="Clothing">Clothing</mat-option>
              <mat-option value="JunkFood">Junk Food</mat-option>
              <mat-option value="Grocery">Grocery</mat-option>
              <mat-option value="Books">Books</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Description</mat-label>
            <textarea matInput formControlName="Description"></textarea>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Stock</mat-label>
            <input type="number" matInput formControlName="Stock" />
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Price</mat-label>
            <input type="number" matInput formControlName="Price" />
          </mat-form-field>

          <div class="full-width image-input">
            <label for="image" style="color: black">Product Image</label><br />
            <input
              class="image-inp"
              type="file"
              accept="image/*"
              (change)="onImageSelected($event)"
            />
            <div *ngIf="imagePreview">
              <p>Preview:</p>
              <img class="image-preview" [src]="imagePreview" width="30" />
            </div>
          </div>
        </div>
        <div class="btn">
          <button
            mat-raised-button

            (click)="onSubmit()"
            [disabled]="!productform.valid"
          >
            Submit Product
          </button>
            <button
            mat-raised-button
*ngIf="isEditMode"
(click)="deleteProduct()"
class="deleteBtn"
          >
           Delete Product
          </button>
        </div>
      </form>
    </mat-card>
  </div>
</div>
